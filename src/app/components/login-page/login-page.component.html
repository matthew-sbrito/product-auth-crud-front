<main class="login-page">
  <section class="box-form">
    <h2>{{ getTitleForm() }}</h2>
    <form [formGroup]="form" class="form" (keyup.enter)="submitForm()">

      <mat-form-field *ngIf="modeRegister">
        <mat-label>Nome</mat-label>
        <input matInput
               appearance="fill"
               type="text"
               placeholder="Nome..."
               formControlName="name"
        />
        <mat-error *ngIf="hasError('name', 'required')">Nome é obrigatório</mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Usuário</mat-label>
        <input matInput
               appearance="fill"
               type="text"
               placeholder="Usuário..."
               formControlName="username"
        />
        <mat-error *ngIf="hasError('username', 'required')">Usuário é obrigatório</mat-error>
        <mat-error *ngIf="hasError('username', 'minLength')">Usuário deve conter ao menos 4 caracteres</mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Senha</mat-label>
        <input matInput
               appearance="fill"
               [type]="passwordType"
               placeholder="Senha..."
               formControlName="password"
        />
        <mat-error *ngIf="hasError('password', 'required')">Senha é obrigatória</mat-error>
        <mat-icon class="eye-icon" (click)="changeShowPassword()" matSuffix >{{ getIconPassword() }}</mat-icon>
      </mat-form-field>

    </form>

    <div class="buttons">
      <button mat-stroked-button color="primary" (click)="changeMode()">{{ getLabelButtonChange() }}</button>
      <button mat-raised-button color="primary" (click)="submitForm()">{{ getLabelButtonSubmit() }}</button>
    </div>

  </section>
</main>
